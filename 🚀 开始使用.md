# 🚀 云策28计分系统 - 开始使用

欢迎使用云策28计分系统！本文档帮助您快速上手。

---

## 📖 我应该从哪里开始？

### 🆕 第一次使用系统

```
1. 阅读 README.md 了解系统概况
   ↓
2. 选择部署方式：
   - 单个系统 → 参考 README.md 的"快速开始"
   - 多个系统 → 参考"多实例快速开始.md"
   ↓
3. 执行部署命令
   ↓
4. 访问系统并登录
```

---

### 💻 开发人员

**后端开发**:
```
阅读 backend/README.md
  ↓
了解模块结构和API设计
  ↓
参考开发指南开始编码
```

**前端开发**:
```
H5端: 阅读 frontend-h5/README.md
管理端: 阅读 frontend-admin/README.md
  ↓
了解组件结构和API调用
  ↓
参考开发指南开始编码
```

---

### 🏢 系统管理员

**单实例部署**:
```bash
# 1. 阅读 README.md 部署指南
# 2. 准备服务器环境
# 3. 执行部署命令
./deploy-all.sh
```

**多实例部署**:
```bash
# 1. 阅读《多实例快速开始.md》
# 2. 使用自动化脚本
./create-instance.sh instance2 "客户A系统"

# 3. 管理实例
./manage-instances.sh list
./manage-instances.sh status
```

---

## 📚 完整文档清单

### 核心文档（必读）

| 文档 | 说明 | 适合人群 |
|------|------|----------|
| **README.md** | 系统总览和快速开始 | 所有人 |
| **多实例快速开始.md** | 多实例部署快速指南 | 需要部署多套系统的管理员 |
| **🚀 开始使用.md** | 本文档 | 新手入门 |

### 详细文档

| 文档 | 说明 | 适合人群 |
|------|------|----------|
| **backend/README.md** | 后端开发指南 | 后端开发者 |
| **frontend-h5/README.md** | H5前端开发指南 | 前端开发者 |
| **frontend-admin/README.md** | 管理端开发指南 | 前端开发者 |
| **多实例部署指南.md** | 多实例详细配置 | 高级管理员 |

### 参考文档

| 文档 | 说明 |
|------|------|
| **📋 多实例部署文件清单.md** | 多实例相关文件说明 |
| **env.example** | 环境变量配置模板 |

---

## 🎯 常见任务快速指引

### 任务1: 部署第一个系统

```bash
# 1. 上传项目到服务器
scp -r score-system user@server:/root/

# 2. SSH登录服务器
ssh user@server

# 3. 进入目录
cd /root/score-system

# 4. 配置环境变量
cp env.example .env
vim .env  # 修改密码等配置

# 5. 一键部署
chmod +x deploy-all.sh
./deploy-all.sh

# 6. 访问系统
# H5: http://your-server:5173
# 管理后台: http://your-server:5174
```

**预计时间**: 5-10分钟

---

### 任务2: 部署第二个系统（多实例）

```bash
# 1. 进入第一个系统目录
cd /root/score-system

# 2. 赋予执行权限
chmod +x create-instance.sh

# 3. 创建第二个实例
./create-instance.sh instance2 "客户A系统"

# 4. 等待完成并访问
# 脚本会显示访问地址
```

**预计时间**: 2-3分钟

---

### 任务3: 查看系统日志

```bash
# 单实例
cd /root/score-system
docker-compose logs -f backend

# 多实例
./manage-instances.sh logs instance2 backend
```

---

### 任务4: 重启服务

```bash
# 单实例
cd /root/score-system
docker-compose restart backend

# 多实例
./manage-instances.sh restart instance2 backend
```

---

### 任务5: 备份数据

```bash
# 单实例
docker exec score-system-mysql mysqldump \
  -u root -p'password' \
  yunce_score_system > backup.sql

# 多实例（自动化）
./manage-instances.sh backup-all
```

---

### 任务6: 更新系统

```bash
# 单实例
cd /root/score-system
docker-compose down
docker-compose build
docker-compose up -d

# 多实例（自动化）
./manage-instances.sh update-all
```

---

## 🔑 默认账号

### 管理员账号
- **用户名**: `admin`
- **密码**: `admin123`

### 测试用户账号
- **用户名**: `user1`
- **密码**: `123456`
- **初始积分**: 10000

⚠️ **生产环境请立即修改默认密码！**

---

## 🌐 访问地址

### 单实例（默认）
- H5用户端: `http://your-server:5173`
- 管理后台: `http://your-server:5174`
- API文档: `http://your-server:3000/api-docs`

### 多实例
每个实例的端口不同，创建时会自动分配并显示。

---

## ⚙️ 脚本工具说明

### 部署脚本

| 脚本 | 功能 | 用法 |
|------|------|------|
| **deploy-all.sh** | 一键部署所有服务 | `./deploy-all.sh` |
| **deploy-backend.sh** | 只部署后端 | `./deploy-backend.sh` |
| **deploy-h5.sh** | 只部署H5前端 | `./deploy-h5.sh` |
| **deploy-admin.sh** | 只部署管理端 | `./deploy-admin.sh` |

### 多实例脚本

| 脚本 | 功能 | 用法 |
|------|------|------|
| **create-instance.sh** | 创建新实例 | `./create-instance.sh <名称> "<描述>"` |
| **manage-instances.sh** | 管理实例 | `./manage-instances.sh <命令> [参数]` |

---

## 📞 获取帮助

### 命令行帮助

```bash
# 查看脚本用法
./create-instance.sh
./manage-instances.sh

# 查看Docker状态
docker ps
docker-compose ps
docker stats
```

### 文档导航

```
问题类型                  查看文档
--------------------------------------------
系统概览              →  README.md
快速部署              →  README.md "快速开始"
多实例部署            →  多实例快速开始.md
后端开发              →  backend/README.md
前端开发              →  frontend-*/README.md
故障排查              →  README.md "常见问题"
高级配置              →  多实例部署指南.md
```

### 日志查看

```bash
# 后端日志
docker-compose logs -f backend

# 前端日志
docker-compose logs -f frontend-h5
docker-compose logs -f frontend-admin

# 数据库日志
docker-compose logs -f mysql

# 所有日志
docker-compose logs -f
```

---

## ✅ 系统检查清单

### 部署前检查
- [ ] 服务器满足最低要求（2核4G，20GB磁盘）
- [ ] Docker 和 Docker Compose 已安装
- [ ] 端口未被占用（3000, 3307, 5173, 5174, 6380）
- [ ] 防火墙配置正确
- [ ] 已准备好 .env 配置文件

### 部署后验证
- [ ] 所有容器正常运行 (`docker ps`)
- [ ] 可以访问 H5 前端
- [ ] 可以访问管理后台
- [ ] API 文档可以打开
- [ ] 管理员账号可以登录
- [ ] 测试用户可以下注
- [ ] 开奖数据正常同步

### 安全检查
- [ ] 已修改默认管理员密码
- [ ] 已修改数据库密码
- [ ] 已修改 JWT 密钥
- [ ] 已配置防火墙
- [ ] 已设置定期备份

---

## 🎓 学习路径

### 新手入门（第1天）
1. ✅ 阅读 README.md 了解系统
2. ✅ 使用 Docker 部署第一个实例
3. ✅ 登录管理后台熟悉功能
4. ✅ 测试下注和结算流程

### 进阶使用（第2-3天）
1. ✅ 学习多实例部署
2. ✅ 配置 Nginx 反向代理
3. ✅ 设置自动备份
4. ✅ 配置监控告警

### 高级定制（第4-7天）
1. ✅ 阅读后端/前端开发文档
2. ✅ 了解代码结构和API设计
3. ✅ 本地搭建开发环境
4. ✅ 开始定制化开发

---

## 💡 最佳实践

### 生产环境建议

1. **安全性**
   - 使用强密码（至少12位，包含大小写字母、数字、特殊字符）
   - 定期更新系统和依赖
   - 配置 HTTPS（使用 Let's Encrypt）
   - 限制管理后台访问IP

2. **可靠性**
   - 设置每日自动备份
   - 配置监控和告警
   - 定期检查日志
   - 准备应急预案

3. **性能优化**
   - 配置 Redis 缓存
   - 使用 CDN 加速静态资源
   - 优化数据库索引
   - 限制并发连接数

4. **运维管理**
   - 使用 Nginx 统一入口
   - 配置日志轮转
   - 定期清理 Docker 镜像
   - 监控服务器资源

---

## 🎉 开始您的旅程

现在您已经了解了基本情况，选择一个任务开始吧！

**推荐首次使用流程**:
1. 📖 阅读 README.md（5分钟）
2. 🚀 执行快速部署（5分钟）
3. 🎮 登录系统试用（10分钟）
4. 📚 深入学习其他文档

**祝您使用愉快！** 🎊

---

**文档版本**: v1.0  
**最后更新**: 2025-11-30  
**维护者**: AI Assistant





