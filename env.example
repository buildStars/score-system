# ============================================
# 云策28计分系统 - 环境变量配置模板
# ============================================
# 复制此文件为 .env 并修改相应配置
# 
# 快速开始：
#   cp env.example .env
#   vim .env  # 修改配置
#   docker-compose up -d
# ============================================

# ===== 实例标识 =====
# 实例名称（用于标识，只能包含字母数字下划线）
INSTANCE_NAME=default

# 实例描述（中文标签）
INSTANCE_LABEL=默认实例

# ===== 端口配置 =====
# MySQL 端口（默认 3307，避免与系统 MySQL 冲突）
MYSQL_PORT=3307

# Redis 端口（默认 6380，避免与系统 Redis 冲突）
REDIS_PORT=6380

# 后端 API 端口
BACKEND_PORT=3000

# H5 前端端口
H5_PORT=5173

# 管理后台端口
ADMIN_PORT=5174

# ===== 数据库配置 =====
# MySQL root 密码（⚠️ 请修改为强密码）
MYSQL_ROOT_PASSWORD=score_root_2024_CHANGE_THIS

# MySQL 数据库名
MYSQL_DATABASE=yunce_score_system

# MySQL 用户名
MYSQL_USER=score_user

# MySQL 用户密码（⚠️ 请修改为强密码）
MYSQL_PASSWORD=score_pass_2024_CHANGE_THIS

# ===== Redis配置 =====
# Redis 密码（可选，留空表示无密码）
REDIS_PASSWORD=

# ===== JWT配置 =====
# JWT 密钥（⚠️ 必须修改，建议32位以上随机字符串）
# 生成命令: openssl rand -base64 32
JWT_SECRET=yunce-score-jwt-secret-2024-CHANGE-THIS-32CHARS

# 用户 Token 过期时间
JWT_EXPIRES_IN=7d

# 管理员 Token 过期时间
JWT_ADMIN_EXPIRES_IN=12h

# ===== 应用配置 =====
# 运行环境（development | production）
NODE_ENV=production

# 时区
TZ=Asia/Shanghai

# ===== Docker Compose 配置 =====
# 项目名称（用于容器名前缀）
COMPOSE_PROJECT_NAME=score-system

# ============================================
# 多实例部署说明
# ============================================
# 
# 如果需要在同一台服务器部署多个实例，请：
# 
# 1. 复制整个项目目录
#    cp -r score-system score-system-instance2
# 
# 2. 修改端口配置（避免冲突）
#    实例2建议端口：
#      MYSQL_PORT=3308
#      REDIS_PORT=6381
#      BACKEND_PORT=3001
#      H5_PORT=5175
#      ADMIN_PORT=5176
# 
# 3. 修改容器名和数据卷（在 docker-compose.yml 中）
#    container_name: score-instance2-backend
#    volumes: score-instance2-mysql-data
# 
# 4. 修改网络名称（在 docker-compose.yml 中）
#    networks: score-instance2-network
# 
# 5. 使用不同的密码和密钥
# 
# 详细说明请参考：多实例部署指南.md
# ============================================

# ============================================
# 安全建议
# ============================================
# 
# 🔐 强密码要求：
#   - 至少12位
#   - 包含大小写字母、数字、特殊字符
#   - 不使用常见单词或日期
# 
# 🔐 生产环境必须修改：
#   - MYSQL_ROOT_PASSWORD
#   - MYSQL_PASSWORD
#   - JWT_SECRET
# 
# 🔐 密码生成命令：
#   openssl rand -base64 32 | tr -dc 'a-zA-Z0-9' | head -c 24
# 
# 🔐 JWT密钥生成命令：
#   openssl rand -base64 48 | tr -dc 'a-zA-Z0-9' | head -c 32
# 
# ============================================
