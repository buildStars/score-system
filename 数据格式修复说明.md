# ğŸ”§ æ•°æ®æ ¼å¼ä¿®å¤è¯´æ˜

## é—®é¢˜æè¿°

ç½‘ç«™è®¾ç½®é¡µé¢æ˜¾ç¤º `[object Object]`ï¼Œæ— æ³•æ­£å¸¸æ˜¾ç¤ºæ•°æ®ã€‚

### åŸå› åˆ†æ

**åç«¯è¿”å›çš„æ•°æ®æ ¼å¼ï¼š**
```json
{
  "gameEnabled": {
    "value": true,
    "name": "æ¸¸æˆå¼€å¯çŠ¶æ€",
    "description": "æ˜¯å¦å…è®¸ç”¨æˆ·ä¸‹æ³¨"
  }
}
```

**å‰ç«¯æœŸæœ›çš„æ•°æ®æ ¼å¼ï¼š**
```json
{
  "gameEnabled": true
}
```

åç«¯è¿”å›çš„æ¯ä¸ªå­—æ®µéƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å« `value`ã€`name`ã€`description`ï¼Œä½†å‰ç«¯æœŸæœ›çš„æ˜¯ç›´æ¥çš„å€¼ã€‚

---

## ä¿®å¤æ–¹æ¡ˆ âœ…

### ä¿®æ”¹æ–‡ä»¶
`backend/src/modules/system/system.service.ts`

### ä¿®æ”¹å‰
```typescript
result[key] = {
  value,
  name: setting.settingName,
  description: setting.description,
};
```

### ä¿®æ”¹å
```typescript
// ç›´æ¥è¿”å›å€¼ï¼Œä¸åŒ…è£…æˆå¯¹è±¡
result[key] = value;
```

---

## ä¿®å¤åçš„æ•°æ®æ ¼å¼

### ä¸‹æ³¨è®¾ç½®ï¼ˆbetSettingsï¼‰
```json
{
  "multipleFeeRate": 3,
  "multipleFeeBase": 100,
  "comboFeeRate": 5,
  "comboFeeBase": 100,
  "minBetAmount": 10,
  "maxBetAmount": 10000,
  "maxBetsPerIssue": 10,
  "multipleLossRate": 0.8
}
```

### ç³»ç»Ÿè®¾ç½®ï¼ˆsystemSettingsï¼‰
```json
{
  "gameEnabled": true,
  "maintenanceMode": false,
  "systemNotice": "æ¬¢è¿ä½¿ç”¨è®¡åˆ†ç³»ç»Ÿï¼",
  "lotteryDataSource": "http://localhost:8081/userApi/Lott",
  "autoSettleEnabled": true
}
```

---

## éªŒè¯æ­¥éª¤

### 1. ç­‰å¾…åç«¯è‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼ˆçº¦5-10ç§’ï¼‰

åç«¯è¿è¡Œåœ¨å¼€å‘æ¨¡å¼ï¼ˆ`npm run start:dev`ï¼‰ï¼Œä¼šè‡ªåŠ¨æ£€æµ‹æ–‡ä»¶å˜åŒ–å¹¶é‡æ–°ç¼–è¯‘ã€‚

**ç»ˆç«¯åº”è¯¥ä¼šæ˜¾ç¤ºï¼š**
```
File change detected. Starting incremental compilation...
[NestJS] Info: Nest application successfully started
```

### 2. åˆ·æ–°æµè§ˆå™¨

**æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š**
1. ç­‰å¾… 10 ç§’è®©åç«¯å®Œæˆç¼–è¯‘
2. åœ¨æµè§ˆå™¨ä¸­æŒ‰ `F5` åˆ·æ–°é¡µé¢
3. è¿›å…¥"ç½‘ç«™è®¾ç½®"æˆ–"æ¨¡å¼è®¾ç½®"é¡µé¢

### 3. éªŒè¯æ˜¾ç¤º

**åº”è¯¥èƒ½æ­£å¸¸çœ‹åˆ°ï¼š**

**æ¸¸æˆæ§åˆ¶ï¼š**
- âœ… æ¸¸æˆå¼€å…³ï¼šæ˜¾ç¤ºå¼€å…³æŒ‰é’®
- âœ… ç»´æŠ¤æ¨¡å¼ï¼šæ˜¾ç¤ºå¼€å…³æŒ‰é’®
- âœ… è‡ªåŠ¨ç»“ç®—ï¼šæ˜¾ç¤ºå¼€å…³æŒ‰é’®

**ç³»ç»Ÿå…¬å‘Šï¼š**
- âœ… æ˜¾ç¤ºæ–‡æœ¬æ¡†ï¼Œå†…å®¹ä¸º"æ¬¢è¿ä½¿ç”¨è®¡åˆ†ç³»ç»Ÿï¼"

**æ•°æ®æºè®¾ç½®ï¼š**
- âœ… æ˜¾ç¤ºè¾“å…¥æ¡†ï¼Œå†…å®¹ä¸ºå¼€å¥–æ•°æ®æºåœ°å€

---

## å¦‚æœè¿˜æ˜¯æ˜¾ç¤º [object Object]

### è§£å†³æ–¹æ¡ˆ1ï¼šæ‰‹åŠ¨é‡å¯åç«¯

```bash
# åœæ­¢æ‰€æœ‰ Node è¿›ç¨‹
Stop-Process -Name node -Force

# é‡å¯åç«¯
cd score-system/backend
npm run start:dev
```

### è§£å†³æ–¹æ¡ˆ2ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜

1. æŒ‰ `Ctrl + Shift + Delete`
2. é€‰æ‹©"ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶"
3. ç‚¹å‡»"æ¸…é™¤æ•°æ®"
4. åˆ·æ–°é¡µé¢

### è§£å†³æ–¹æ¡ˆ3ï¼šç¡¬åˆ·æ–°

æŒ‰ `Ctrl + Shift + R` æˆ– `Ctrl + F5`

---

## å®Œæ•´çš„ API å“åº”ç¤ºä¾‹

**è¯·æ±‚ï¼š**
```
GET /api/admin/settings
Authorization: Bearer {token}
```

**ä¿®å¤åçš„å“åº”ï¼š**
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "betSettings": {
      "multipleFeeRate": 3,
      "multipleFeeBase": 100,
      "comboFeeRate": 5,
      "comboFeeBase": 100,
      "minBetAmount": 10,
      "maxBetAmount": 10000,
      "maxBetsPerIssue": 10,
      "multipleLossRate": 0.8
    },
    "systemSettings": {
      "gameEnabled": true,
      "maintenanceMode": false,
      "systemNotice": "æ¬¢è¿ä½¿ç”¨è®¡åˆ†ç³»ç»Ÿï¼",
      "lotteryDataSource": "http://localhost:8081/userApi/Lott",
      "autoSettleEnabled": true
    }
  }
}
```

---

## æµ‹è¯•æ¸…å•

- [ ] ç­‰å¾… 10 ç§’è®©åç«¯é‡æ–°ç¼–è¯‘
- [ ] åˆ·æ–°æµè§ˆå™¨ï¼ˆF5ï¼‰
- [ ] è¿›å…¥"ç½‘ç«™è®¾ç½®"é¡µé¢
- [ ] æ£€æŸ¥"æ¸¸æˆå¼€å…³"æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- [ ] æ£€æŸ¥"ç»´æŠ¤æ¨¡å¼"æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
- [ ] æ£€æŸ¥"ç³»ç»Ÿå…¬å‘Š"æ˜¯å¦æ˜¾ç¤ºæ–‡æœ¬å†…å®¹
- [ ] æ£€æŸ¥"å¼€å¥–æ•°æ®æº"æ˜¯å¦æ˜¾ç¤º URL
- [ ] è¿›å…¥"æ¨¡å¼è®¾ç½®"é¡µé¢
- [ ] æ£€æŸ¥æ‰€æœ‰æ•°å­—æ˜¯å¦æ­£å¸¸æ˜¾ç¤º

---

## ä¿®å¤æ—¶é—´
2024-11-27

## ä¿®å¤çŠ¶æ€
âœ… ä»£ç å·²ä¿®æ”¹
â³ ç­‰å¾…åç«¯è‡ªåŠ¨é‡æ–°ç¼–è¯‘
ğŸ”„ éœ€è¦åˆ·æ–°æµè§ˆå™¨

---

**ç°åœ¨è¯·ç­‰å¾… 10 ç§’ï¼Œç„¶ååˆ·æ–°æµè§ˆå™¨ï¼** â°





